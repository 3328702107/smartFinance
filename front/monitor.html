<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>风控管理系统</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- 引入Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  
  <!-- Tailwind配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            success: '#52C41A',
            warning: '#FAAD14',
            danger: '#FF4D4F',
            info: '#1890FF',
            dark: '#1D2129',
            'light-dark': '#4E5969',
            'ultra-light': '#F2F3F5'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .card-shadow {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
      .transition-smooth {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
    }
  </style>
</head>
<body class="font-inter bg-gray-50 text-dark min-h-screen flex flex-col">
  <!-- 顶部导航栏 -->
  <header class="bg-white shadow-sm sticky top-0 z-50 transition-smooth">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- 左侧Logo和标题 -->
        <div class="flex items-center space-x-2">
          <div class="text-primary text-2xl">
            <i class="fa fa-shield"></i>
          </div>
          <h1 class="text-xl font-bold text-primary">风控管理系统</h1>
        </div>
        
        <!-- 中间导航菜单 -->
        <nav class="hidden md:flex space-x-8">
          <a href="#" class="text-primary font-medium border-b-2 border-primary px-1 py-5 transition-smooth">实时监控</a>
          <a href="#" class="text-light-dark hover:text-primary px-1 py-5 transition-smooth">风险告警</a>
          <a href="#" class="text-light-dark hover:text-primary px-1 py-5 transition-smooth">数据采集</a>
          <a href="#" class="text-light-dark hover:text-primary px-1 py-5 transition-smooth">事件分析</a>
        </nav>
        
        <!-- 右侧用户信息 -->
        <div class="flex items-center space-x-4">
          <div class="relative">
            <button id="userMenuBtn" class="flex items-center space-x-2 focus:outline-none">
              <img src="https://picsum.photos/id/1005/200/200" alt="用户头像" class="w-8 h-8 rounded-full object-cover border-2 border-primary">
              <span class="hidden md:inline text-sm font-medium">张经理</span>
              <i class="fa fa-angle-down text-light-dark"></i>
            </button>
            <div id="userMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10">
              <a href="#" class="block px-4 py-2 text-sm text-light-dark hover:bg-primary hover:text-white transition-smooth">
                <i class="fa fa-user mr-2"></i>个人资料
              </a>
              <div class="border-t border-gray-100 my-1"></div>
              <a href="#" class="block px-4 py-2 text-sm text-danger hover:bg-danger hover:text-white transition-smooth">
                <i class="fa fa-sign-out mr-2"></i>登出
              </a>
            </div>
          </div>
          
          <!-- 移动端菜单按钮 -->
          <button id="mobileMenuBtn" class="md:hidden text-light-dark hover:text-primary transition-smooth">
            <i class="fa fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
    
    <!-- 移动端导航菜单 -->
    <div id="mobileMenu" class="hidden md:hidden bg-white border-t border-gray-100">
      <div class="px-4 py-3 space-y-3">
        <a href="#" class="block text-primary font-medium py-2 transition-smooth">实时监控</a>
        <a href="#" class="block text-light-dark hover:text-primary py-2 transition-smooth">风险告警</a>
        <a href="#" class="block text-light-dark hover:text-primary py-2 transition-smooth">数据采集</a>
        <a href="#" class="block text-light-dark hover:text-primary py-2 transition-smooth">事件分析</a>
        <!-- <a href="#" class="block text-light-dark hover:text-primary py-2 transition-smooth">系统设置</a> -->
      </div>
    </div>
  </header>

  <!-- 主内容区 -->
  <!-- <main class="flex-grow container mx-auto px-4 py-6">
    <div class="mb-6">
      <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark">实时风险监控</h2>
      <p class="text-light-dark mt-1">实时监测系统风险事件，及时处理异常情况</p>
    </div>
     -->

  <!-- 主内容区 -->
  <main class="flex-grow container mx-auto px-4 py-6">
    <!-- 系统状态卡片 -->
    <div class="mb-6">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between">
        <!-- 系统状态卡片 - 左上角 -->
        <div class="grid grid-cols-2 gap-4">
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">模型运行状态</div>
            <div class="text-xl font-semibold text-success mt-1">正常</div>
          </div>
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">数据运行状态</div>
            <div class="text-xl font-semibold text-success mt-1">正常</div>
          </div>
        </div>
        
        <!-- 告警统计卡片 - 右上角 -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 md:mt-0">
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">总告警数</div>
            <div class="text-xl font-semibold mt-1">147</div>
          </div>
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">待处理</div>
            <div class="text-xl font-semibold text-warning mt-1">36</div>
          </div>
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">已解决</div>
            <div class="text-xl font-semibold text-success mt-1">98</div>
          </div>
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">高风险</div>
            <div class="text-xl font-semibold text-danger mt-1">13</div>
          </div>
        </div>
      </div>
    </div>



    <!-- <div class="mb-6">
      <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark">实时风险监控</h2>
      <p class="text-light-dark mt-1">实时监测系统风险事件，及时处理异常情况</p>
    </div>
    <div class="mb-6">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 md:mt-0">
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">模型运行状态</div>
            <div class="text-xl font-semibold text-success mt-1">正常</div>
          </div>
          <div class="bg-white rounded-lg p-3 card-shadow">
            <div class="text-light-dark text-sm">数据运行状态</div>
            <div class="text-xl font-semibold text-success mt-1">正常</div>
          </div>
        </div>
      </div>
    </div> -->
  <!-- 风控状态面板 -->

    <!-- 风控状态面板 -->

    <!-- 风险趋势图表 -->
    <section class="mb-8">
      <div class="bg-white rounded-xl p-6 card-shadow">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
          <h3 class="text-lg font-semibold">风险事件趋势</h3>
          <div class="flex space-x-2 mt-3 md:mt-0">
            <button class="px-3 py-1 text-sm bg-primary text-white rounded-md hover:bg-primary/90 transition-smooth">今日</button>
            <button class="px-3 py-1 text-sm bg-gray-100 text-light-dark rounded-md hover:bg-gray-200 transition-smooth">本周</button>
            <button class="px-3 py-1 text-sm bg-gray-100 text-light-dark rounded-md hover:bg-gray-200 transition-smooth">本月</button>
          </div>
        </div>
        <div class="h-64">
          <canvas id="riskTrendChart"></canvas>
        </div>
      </div>
    </section>
    
    <!-- 风险告警可视化 -->
    <section class="mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
      <div class="bg-white rounded-xl p-6 card-shadow lg:col-span-1">
        <h3 class="text-lg font-semibold mb-4">告警级别分布</h3>
        <div class="h-64">
          <canvas id="alertLevelChart"></canvas>
        </div>
      </div>
      
      <div class="bg-white rounded-xl p-6 card-shadow lg:col-span-2">
        <h3 class="text-lg font-semibold mb-4">告警类型趋势</h3>
        <div class="h-64">
          <canvas id="alertTypeChart"></canvas>
        </div>
      </div>
    </section>
    
    <!-- 实时风险事件列表 -->

  </main>

  <!-- 页脚 -->
  <footer class="bg-white border-t border-gray-200 py-6 mt-8">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="text-light-dark text-sm mb-4 md:mb-0">
          © 2023 风控管理系统 版权所有
        </div>
        <div class="flex space-x-6">
          <a href="#" class="text-light-dark hover:text-primary transition-smooth text-sm">使用帮助</a>
          <a href="#" class="text-light-dark hover:text-primary transition-smooth text-sm">隐私政策</a>
          <a href="#" class="text-light-dark hover:text-primary transition-smooth text-sm">联系我们</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- 数据更新提示 -->
  <div id="updateToast" class="fixed bottom-6 right-6 bg-primary text-white px-4 py-3 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-500 flex items-center">
    <i class="fa fa-refresh mr-2"></i>
    <span>数据已更新</span>
  </div>

  <script>
    // 初始化风险趋势图表
    const initRiskTrendChart = () => {
      const ctx = document.getElementById('riskTrendChart').getContext('2d');
      
      const chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00'],
          datasets: [
            {
              label: '高风险',
              data: [2, 1, 0, 3, 5, 4, 3, 4],
              borderColor: '#FF4D4F',
              backgroundColor: 'rgba(255, 77, 79, 0.1)',
              tension: 0.4,
              fill: true
            },
            {
              label: '中风险',
              data: [3, 2, 4, 5, 6, 5, 7, 6],
              borderColor: '#FAAD14',
              backgroundColor: 'rgba(250, 173, 20, 0.1)',
              tension: 0.4,
              fill: true
            },
            {
              label: '低风险',
              data: [5, 7, 6, 8, 10, 9, 8, 10],
              borderColor: '#1890FF',
              backgroundColor: 'rgba(24, 144, 255, 0.1)',
              tension: 0.4,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              align: 'end',
              labels: {
                boxWidth: 12,
                usePointStyle: true,
                pointStyle: 'circle'
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          },
          interaction: {
            mode: 'index',
            intersect: false
          }
        }
      });
    };
    
    // 初始化告警级别分布图表
    const initAlertLevelChart = () => {
      const ctx = document.getElementById('alertLevelChart').getContext('2d');
      
      new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['高风险', '中风险', '低风险'],
          datasets: [{
            data: [13, 56, 78],
            backgroundColor: [
              '#FF4D4F',
              '#FAAD14',
              '#1890FF'
            ],
            borderWidth: 0,
            hoverOffset: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                boxWidth: 12,
                padding: 15,
                usePointStyle: true,
                pointStyle: 'circle'
              }
            }
          },
          cutout: '70%'
        }
      });
    };
    
    // 初始化告警类型趋势图表
    const initAlertTypeChart = () => {
      const ctx = document.getElementById('alertTypeChart').getContext('2d');
      
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['6/10', '6/11', '6/12', '6/13', '6/14', '6/15'],
          datasets: [
            {
              label: '账户风险',
              data: [8, 12, 9, 15, 11, 7],
              backgroundColor: '#165DFF'
            },
            {
              label: '交易风险',
              data: [15, 18, 12, 20, 17, 9],
              backgroundColor: '#36CFC9'
            },
            {
              label: '身份验证',
              data: [5, 7, 9, 6, 8, 4],
              backgroundColor: '#FAAD14'
            },
            {
              label: '设备异常',
              data: [3, 5, 4, 6, 5, 3],
              backgroundColor: '#722ED1'
            },
            {
              label: '行为异常',
              data: [7, 6, 9, 8, 10, 5],
              backgroundColor: '#EB0AA4'
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              align: 'end',
              labels: {
                boxWidth: 12,
                usePointStyle: true,
                pointStyle: 'circle'
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          },
          barPercentage: 0.6
        }
      });
    };
    
    // 事件详情展开/折叠功能
    const setupEventToggle = () => {
      const eventHeaders = document.querySelectorAll('.event-header');
      
      eventHeaders.forEach(header => {
        header.addEventListener('click', (e) => {
          // 防止点击按钮时触发两次事件
          if (e.target.closest('.event-toggle')) return;
          
          const eventItem = header.parentElement;
          const details = eventItem.querySelector('.event-details');
          const toggleIcon = header.querySelector('.event-toggle i');
          
          details.classList.toggle('hidden');
          toggleIcon.classList.toggle('fa-chevron-down');
          toggleIcon.classList.toggle('fa-chevron-up');
        });
      });
      
      // 单独处理切换按钮
      const toggleButtons = document.querySelectorAll('.event-toggle');
      toggleButtons.forEach(button => {
        button.addEventListener('click', () => {
          const eventItem = button.closest('.event-item');
          const details = eventItem.querySelector('.event-details');
          const icon = button.querySelector('i');
          
          details.classList.toggle('hidden');
          icon.classList.toggle('fa-chevron-down');
          icon.classList.toggle('fa-chevron-up');
        });
      });
    };
    
    // 用户菜单功能
    const setupUserMenu = () => {
      const userMenuBtn = document.getElementById('userMenuBtn');
      const userMenu = document.getElementById('userMenu');
      
      userMenuBtn.addEventListener('click', () => {
        userMenu.classList.toggle('hidden');
        // 关闭其他菜单
        document.getElementById('mobileMenu').classList.add('hidden');
      });
      
      // 点击外部关闭菜单
      document.addEventListener('click', (e) => {
        if (!userMenuBtn.contains(e.target) && !userMenu.contains(e.target)) {
          userMenu.classList.add('hidden');
        }
      });
    };
    
    // 移动端菜单
    const setupMobileMenu = () => {
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      
      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        // 关闭其他菜单
        document.getElementById('userMenu').classList.add('hidden');
      });
    };
    
    // 自动刷新功能
    let refreshTimer;
    const setupAutoRefresh = (intervalSeconds) => {
      // 清除现有计时器
      if (refreshTimer) {
        clearInterval(refreshTimer);
      }
      
      // 设置新计时器
      refreshTimer = setInterval(() => {
        // 模拟数据刷新
        simulateDataRefresh();
      }, intervalSeconds * 1000);
    };
    
    // 模拟数据刷新
    const simulateDataRefresh = () => {
      // 这里可以添加实际的数据刷新逻辑
      console.log('数据已刷新');
      
      // 显示更新提示
      const toast = document.getElementById('updateToast');
      toast.classList.remove('translate-y-20', 'opacity-0');
      
      // 3秒后隐藏提示
      setTimeout(() => {
        toast.classList.add('translate-y-20', 'opacity-0');
      }, 3000);
    };
    
    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', () => {
      initRiskTrendChart();
      initAlertLevelChart();
      initAlertTypeChart();
      setupEventToggle();
      setupUserMenu();
      setupMobileMenu();
      
      // 默认设置10秒自动刷新
      setupAutoRefresh(10);
    });
  </script>
</body>
</html>
